{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nexport const fetchBreeds = () => {\n  return axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(result => {\n      return result.data;\n    })\n    .catch(err => {\n      console.error(err);\n    });\n};\n\nexport const fetchCatByBreed = breedId => {\n  const urlParams = new URLSearchParams({\n    breed_ids: breedId,\n  });\n  return axios\n    .get(`https://api.thecatapi.com/v1/images/search?${urlParams}`)\n    .then(result => result.data[0])\n    .catch(err => {\n      console.error(err);\n    });\n};\n","import axios from 'axios';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_RrA3pIaH06HzHv054rOs33bCr34aVdRpxjMyoyzpzwwOrm6g7CFAqmHjmHRs5KvA';\n\nconst selectElem = document.querySelector('.breed-select');\nconst loadingElem = document.querySelector('.loader');\nconst catInfoElem = document.querySelector('.cat-info');\nconst errorElem = document.querySelector('.error');\n\nlet cats = [];\n\nfetchBreeds()\n  .then(breeds => {\n    fillSelectWithOptions(breeds);\n    show(selectElem);\n  })\n  .catch(err => {\n    show(errorElem);\n  })\n  .finally(() => {\n    hide(loadingElem);\n  });\n\nconst fillSelectWithOptions = cats => {\n  let options = '';\n  for (const cat of cats) {\n    options += `<option value=${cat.id}>${cat.name}</options>`;\n  }\n  selectElem.innerHTML = options;\n};\n\nselectElem.addEventListener('change', e => {\n  show(loadingElem);\n  hide(catInfoElem);\n  hide(errorElem);\n  selectElem.disabled = true;\n\n  fetchCatByBreed(e.target.value)\n    .then(cat => {\n      console.log('cat', cat);\n      const breed = cat.breeds[0];\n\n      const catMarkup = `\n      <img src=\"${cat.url}\" width=\"400\" />\n      <div>\n        <h2>${breed.name}</h2>\n        <p>${breed.description}</p>\n        <p><b>Temperament</b>: ${breed.temperament}</p>\n      </div>\n    `;\n\n      catInfoElem.innerHTML = catMarkup;\n\n      show(catInfoElem);\n    })\n    .catch(err => {\n      show(errorElem);\n    })\n    .finally(() => {\n      hide(loadingElem);\n      selectElem.disabled = false;\n    });\n});\n\nconst hide = elem => {\n  elem.classList.add('hidden');\n};\n\nconst show = elem => {\n  elem.classList.remove('hidden');\n};\n"],"names":["fetchBreeds","axios","result","err","fetchCatByBreed","breedId","urlParams","selectElem","loadingElem","catInfoElem","errorElem","breeds","fillSelectWithOptions","show","hide","cats","options","cat","breed","catMarkup","elem"],"mappings":"svBAEO,MAAMA,EAAc,IAClBC,EACJ,IAAI,qCAAqC,EACzC,KAAKC,GACGA,EAAO,IACf,EACA,MAAMC,GAAO,CACZ,QAAQ,MAAMA,CAAG,CACvB,CAAK,EAGQC,EAAkBC,GAAW,CACxC,MAAMC,EAAY,IAAI,gBAAgB,CACpC,UAAWD,CACf,CAAG,EACD,OAAOJ,EACJ,IAAI,8CAA8CK,GAAW,EAC7D,KAAKJ,GAAUA,EAAO,KAAK,EAAE,EAC7B,MAAMC,GAAO,CACZ,QAAQ,MAAMA,CAAG,CACvB,CAAK,CACL,ECpBAF,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,MAAMM,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAc,SAAS,cAAc,SAAS,EAC9CC,EAAc,SAAS,cAAc,WAAW,EAChDC,EAAY,SAAS,cAAc,QAAQ,EAIjDV,EAAa,EACV,KAAKW,GAAU,CACdC,EAAsBD,CAAM,EAC5BE,EAAKN,CAAU,CACnB,CAAG,EACA,MAAMJ,GAAO,CACZU,EAAKH,CAAS,CAClB,CAAG,EACA,QAAQ,IAAM,CACbI,EAAKN,CAAW,CACpB,CAAG,EAEH,MAAMI,EAAwBG,GAAQ,CACpC,IAAIC,EAAU,GACd,UAAWC,KAAOF,EAChBC,GAAW,iBAAiBC,EAAI,MAAMA,EAAI,iBAE5CV,EAAW,UAAYS,CACzB,EAEAT,EAAW,iBAAiB,SAAU,GAAK,CACzCM,EAAKL,CAAW,EAChBM,EAAKL,CAAW,EAChBK,EAAKJ,CAAS,EACdH,EAAW,SAAW,GAEtBH,EAAgB,EAAE,OAAO,KAAK,EAC3B,KAAKa,GAAO,CACX,QAAQ,IAAI,MAAOA,CAAG,EACtB,MAAMC,EAAQD,EAAI,OAAO,GAEnBE,EAAY;AAAA,kBACNF,EAAI;AAAA;AAAA,cAERC,EAAM;AAAA,aACPA,EAAM;AAAA,iCACcA,EAAM;AAAA;AAAA,MAIjCT,EAAY,UAAYU,EAExBN,EAAKJ,CAAW,CACtB,CAAK,EACA,MAAMN,GAAO,CACZU,EAAKH,CAAS,CACpB,CAAK,EACA,QAAQ,IAAM,CACbI,EAAKN,CAAW,EAChBD,EAAW,SAAW,EAC5B,CAAK,CACL,CAAC,EAED,MAAMO,EAAOM,GAAQ,CACnBA,EAAK,UAAU,IAAI,QAAQ,CAC7B,EAEMP,EAAOO,GAAQ,CACnBA,EAAK,UAAU,OAAO,QAAQ,CAChC"}